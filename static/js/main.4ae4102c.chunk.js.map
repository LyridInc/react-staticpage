{"version":3,"sources":["components/ImageLoader.js","components/ImageProperties.js","helpers/api.js","components/TransformControl.js","MainApp.js","index.js"],"names":["ImageLoader","props","className","type","value","selectedImageUrl","onChange","onImageLoad","ImageProperties","useState","setLoadedImage","loadedImageHeight","setLoadedImageHeight","loadedImageWidth","setLoadedImageWidth","imgElement","React","useRef","src","ImageURL","ref","onLoad","current","naturalHeight","naturalWidth","instance","axios","create","baseURL","auth","username","process","password","withCredentials","TransformControl","transformImage","setTransformImage","cropImage","setCropImage","imageFormat","setImageFormat","imageQuality","setimageQuality","cropGravity","setCropGravity","imageHeight","setImageHeight","imageWidth","setImageWidth","useEffect","url","API","get","responseType","then","res","image","btoa","Uint8Array","data","reduce","byte","String","fromCharCode","headers","toLowerCase","defaultValue","event","target","map","format","quality","checked","gravity","MainApp","imageUrl","setImageUrl","Fragment","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4ae4102c.chunk.js","sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\n// import API from \"../helpers/api\";\r\n\r\n\r\nconst ImageLoader = props => {\r\n    return (\r\n        <div className=\"imageloader\">\r\n            <form>\r\n                <label>\r\n                Image URL:\r\n                <input type=\"text\" value={props.selectedImageUrl} onChange={props.onImageLoad} />\r\n                </label>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImageLoader;","import React, { useState, useEffect} from 'react';\r\n\r\nimport \"./ImageProperties.css\"\r\n\r\nconst ImageProperties = props => {\r\n\r\n    const [loadedImage, setLoadedImage] = useState({});\r\n    const [loadedImageHeight, setLoadedImageHeight] = useState(0);  \r\n    const [loadedImageWidth, setLoadedImageWidth] = useState(0);  \r\n\r\n    const imgElement = React.useRef(null);\r\n\r\n    const handleImgLoad = () => {\r\n        setLoadedImage(imgElement.current);\r\n        setLoadedImageHeight(imgElement.current.naturalHeight);\r\n        setLoadedImageWidth(imgElement.current.naturalWidth);\r\n        \r\n    }\r\n\r\n    return (\r\n        <div className=\"imgbox\">\r\n          <img src={props.ImageURL}  ref={imgElement} onLoad={handleImgLoad} />\r\n          <p>\r\n            Height: <span className=\"summary__output\">{loadedImageHeight}</span> pixel\r\n          </p>\r\n          <p>\r\n            Width: <span className=\"summary__output\">{loadedImageWidth}</span> pixel\r\n          </p>\r\n        </div>\r\n      );\r\n}\r\n\r\nexport default ImageProperties;","import axios from 'axios';\r\n\r\n\r\nlet instance = axios.create({\r\n  baseURL: `https://api.lyrid.io/x/node/express/latest/entry/`,\r\n  auth: {\r\n    username: process.env.REACT_APP_LYRID_EXECUTE_KEY,\r\n    password: process.env.REACT_APP_LYRID_EXECUTE_SECRET\r\n  },\r\n  withCredentials: true\r\n});\r\n\r\n/*\r\nlet instance = axios.create({\r\n  baseURL: `http://localhost:3000/`\r\n});\r\n*/\r\n\r\nexport default instance;\r\n\r\n\r\n","import React, {useState, useEffect} from 'react';\r\nimport API from '../helpers/api'\r\nimport \"./TransformControl.css\";\r\n\r\n\r\nconst TransformControl = props => {\r\n\r\n    const [transformImage, setTransformImage] = useState(\"\");\r\n    const [cropImage, setCropImage] = useState(false);\r\n    const [imageFormat, setImageFormat] = useState(\"webp\");\r\n    const [imageQuality, setimageQuality] = useState(\"80\");\r\n    const [cropGravity, setCropGravity] = useState(\"center\");\r\n    const [imageHeight, setImageHeight] = useState(200);\r\n    const [imageWidth, setImageWidth] = useState(200);\r\n    \r\n    const formats = [\"webp\", \"png\", \"jpeg\"];\r\n    const gravities = [\"center\", \"north\", \"northeast\", \"east\", \"southeast\", \"south\", \"southwest\", \"west\", \"northwest\"];\r\n    const qualities = [\"10\", \"20\", \"30\", \"40\", \"50\", \"60\", \"70\", \"80\", \"90\", \"100\"];\r\n\r\n    useEffect(() => {\r\n        setTransformImage('')\r\n        let url = \"/sharp/resize/\" + imageHeight\r\n       \r\n        if (cropImage) {\r\n            if (imageWidth !== \"\") {\r\n                url = url + \"/\" + imageWidth\r\n            }\r\n        }\r\n\r\n        url = url + \"?url=\" + props.ImageURL\r\n        url = url + \"&format=\" + imageFormat\r\n        url = url + \"&quality=\" + imageQuality\r\n\r\n        if (cropImage) {\r\n            url = url + \"&crop=\" + cropImage\r\n            url = url + \"&gravity=\" + cropGravity\r\n        }\r\n\r\n        API.get(url, {\r\n            responseType: 'arraybuffer' \r\n        }).then(res => {\r\n            let image = btoa(\r\n                new Uint8Array(res.data)\r\n                  .reduce((data, byte) => data + String.fromCharCode(byte), '')\r\n              );\r\n            const src = 'data:' + res.headers['content-type'].toLowerCase() + \";base64,\" + image\r\n            setTransformImage(src)\r\n        })\r\n    }, [props.ImageURL, cropImage, imageFormat, cropGravity, imageQuality, imageHeight, imageWidth]);\r\n\r\n\r\n    const handleCropImage = event => {\r\n        setCropImage(event.target.checked)\r\n    }\r\n\r\n    const handleImageFormat = event => {\r\n        setImageFormat(event.target.value)\r\n    }\r\n\r\n    const handleCropImageGravity = event => {\r\n        setCropGravity(event.target.value)\r\n    }\r\n\r\n    const handleImageQuality = event => {\r\n        setimageQuality(event.target.value)\r\n    }\r\n\r\n    const handleImageHeight = event => {\r\n        setImageHeight(event.target.value)\r\n    }\r\n\r\n    const handleImageWidth = event => {\r\n        setImageWidth(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <div className=\"transform\">\r\n            <h1>Transform</h1>\r\n            <p>\r\n                Height:\r\n                <input defaultValue=\"200\" onChange={handleImageHeight} />\r\n            </p>\r\n            \r\n            <p>\r\n                Format:\r\n                <select onChange={handleImageFormat} >\r\n                    {formats.map(format => (\r\n                        <option>\r\n                            {format}\r\n                        </option>\r\n                        ))}\r\n                </select>\r\n            </p>\r\n            <p>\r\n                Quality:\r\n                <select onChange={handleImageQuality} defaultValue=\"80\" >\r\n                    {qualities.map(quality => (\r\n                        <option>\r\n                            {quality}\r\n                        </option>\r\n                        ))}\r\n                </select>\r\n            </p>\r\n            <p>\r\n                Crop?\r\n                <input type=\"checkbox\" onChange={handleCropImage} />\r\n            </p>\r\n            <p>\r\n                Crop Width:\r\n                <input defaultValue=\"200\" onChange={handleImageWidth} />\r\n            </p>\r\n            <p>\r\n                Gravity:\r\n                <select onChange={handleCropImageGravity}>\r\n                    {gravities.map(gravity => (\r\n                        <option>\r\n                            {gravity}\r\n                        </option>\r\n                        ))}\r\n                </select>\r\n            </p>\r\n            <p>\r\n            <img src={transformImage}></img>\r\n            </p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TransformControl;","import React, {useState} from 'react';\r\nimport ImageLoader from \"./components/ImageLoader\";\r\nimport ImageProperties from \"./components/ImageProperties\";\r\nimport TransformControl from \"./components/TransformControl\";\r\n\r\nimport \"./MainApp.css\";\r\n\r\nconst MainApp = props => {\r\n\r\n  const [imageUrl, setImageUrl] = useState(\"https://i.imgur.com/3a0qwRe.jpeg\");\r\n\r\n  const imageLoadHandler = event => {\r\n\r\n    setImageUrl(event.target.value)\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ImageLoader selectedImageUrl={imageUrl} onImageLoad={imageLoadHandler} />\r\n      <div className='rowC'>\r\n        <ImageProperties ImageURL={imageUrl} />\r\n        <TransformControl ImageURL={imageUrl} />\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n  \r\nexport default MainApp;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MainApp from './MainApp';\n\nReactDOM.render(\n  <React.StrictMode>\n    <MainApp />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}